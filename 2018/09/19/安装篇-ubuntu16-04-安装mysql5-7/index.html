<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  
  <title>ubuntu16.04 源码编译安装mysql5.7 | Hexo</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta name="description" content="1、安装依赖sudo apt-get install make cmake gcc g++ bison libncurses5-dev build-essential 2、下载mysql 5.7源码包下载地址：https://dev.mysql.com/downloads/mysql/在”select operating system”中选择”source code”，我下载的版本是mysql-5">
<meta name="keywords" content="mysql">
<meta property="og:type" content="article">
<meta property="og:title" content="ubuntu16.04 源码编译安装mysql5.7">
<meta property="og:url" content="http://yoursite.com/2018/09/19/安装篇-ubuntu16-04-安装mysql5-7/index.html">
<meta property="og:site_name" content="Hexo">
<meta property="og:description" content="1、安装依赖sudo apt-get install make cmake gcc g++ bison libncurses5-dev build-essential 2、下载mysql 5.7源码包下载地址：https://dev.mysql.com/downloads/mysql/在”select operating system”中选择”source code”，我下载的版本是mysql-5">
<meta property="og:locale" content="default">
<meta property="og:updated_time" content="2018-09-20T02:42:02.370Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="ubuntu16.04 源码编译安装mysql5.7">
<meta name="twitter:description" content="1、安装依赖sudo apt-get install make cmake gcc g++ bison libncurses5-dev build-essential 2、下载mysql 5.7源码包下载地址：https://dev.mysql.com/downloads/mysql/在”select operating system”中选择”source code”，我下载的版本是mysql-5">
  
    <link rel="alternate" href="/atom.xml" title="Hexo" type="application/atom+xml">
  
  
  
    <link href="//fonts.googleapis.com/css?family=Source+Code+Pro" rel="stylesheet" type="text/css">
  
  <link rel="stylesheet" href="/lib/font-awesome/css/font-awesome.min.css?v=4.7.0">
  <link rel="stylesheet" href="/lib/fancybox/dist/jquery.fancybox.min.css">
  <link rel="stylesheet" href="/css/main.css">
  <script src="/lib/jquery/dist/jquery.min.js"></script>
  
  
  
  
</head>
<body>
  <div id="wrapper">
    <header id="header" class="clearfix">
	<a id="logo" href="/" title="Hexo">Hexo</a>
	
	<nav id="nav-menu" class="clearfix">
		<form id="search" method="post" action="./" role="search">
			<input id="search-input" type="text" name="s" class="inputbox" value="Search" onfocus="if (value =='Search'){value =''}" onblur="if (value ==''){value='Search'}">
		</form>
		<ul>
      
				
        <li><a class="main-nav-link" href="/">Home</a></li>
      
				
        <li><a class="main-nav-link" href="/archives">Archives</a></li>
      
		</ul>
	</nav>
</header>
    <section id="main" class="clearfix"><article class="post-detail">
  <h1 class="post-title"><a href="/">ubuntu16.04 源码编译安装mysql5.7</a></h1>
  <ul class="post-meta">
  <li><i class="fa fa-user"></i> Author Jim</li>
  <li><i class="fa fa-calendar"></i> Date Sep 19</li>
  <li><i class="fa fa-folder"></i> Categories
  
    <a class="article-category-link" href="/categories/安装篇/">安装篇</a>
  
  </li>
</ul>
  <div class="post-content">
      
      <p>1、安装依赖<br>sudo apt-get install make cmake gcc g++ bison libncurses5-dev build-essential</p>
<p>2、下载mysql 5.7源码包<br>下载地址：<a href="https://dev.mysql.com/downloads/mysql/" target="_blank" rel="noopener">https://dev.mysql.com/downloads/mysql/</a><br>在”select operating system”中选择”source code”，我下载的版本是mysql-5.7.23</p>
<p>3、解压缩<br>tar zxvf mysql-5.7.23.tar.gz -C /usr/local<br>cd /usr/local/mysql-5.7.23/</p>
<p>4、编译安装<br>cmake . -DCMAKE_INSTALL_PREFIX=/usr/local/mysql -DMYSQL_DATADIR=/usr/local/mysql/data -DSYSCONFDIR=/etc -DWITH_INNOBASE_STORAGE_ENGINE=1 -DWITH_ARCHIVE_STORAGE_ENGINE=1 -DWITH_BLACKHOLE_STORAGE_ENGINE=1 -DWITH_PARTITION_STORAGE_ENGINE=1 -DWITH_PERFSCHEMA_STORAGE_ENGINE=1 -DWITHOUT_EXAMPLE_STORAGE_ENGINE=1 -DWITHOUT_FEDERATED_STORAGE_ENGINE=1 -DDEFAULT_CHARSET=utf8 -DDEFAULT_COLLATION=utf8_general_ci -DWITH_EXTRA_CHARSETS=all -DENABLED_LOCAL_INFILE=1 -DWITH_READLINE=1 -DMYSQL_UNIX_ADDR=/usr/local/mysql/mysql.sock -DMYSQL_TCP_PORT=3306 -DMYSQL_USER=mysql -DCOMPILATION_COMMENT=”lq-edition” -DENABLE_DTRACE=0 -DOPTIMIZER_TRACE=1 -DWITH_DEBUG=1</p>
<p>运行到这一步，出现报错信息:<br>“CMake Error at cmake/boost.cmake:81 (MESSAGE):<br>  You can download it with -DDOWNLOAD_BOOST=1 -DWITH_BOOST=<directory><br>“<br>提示需要安装boost库，安装参考链接:<br><a href="https://leungzj.github.io/2018/09/19/ubuntu16-04-%E6%BA%90%E7%A0%81%E7%BC%96%E8%AF%91%E5%AE%89%E8%A3%85boost1-59-0/" target="_blank" rel="noopener">https://leungzj.github.io/2018/09/19/ubuntu16-04-%E6%BA%90%E7%A0%81%E7%BC%96%E8%AF%91%E5%AE%89%E8%A3%85boost1-59-0/</a></directory></p>
<p>make<br>make install</p>
<p>5、配置mysql<br>(1)创建用户和用户组<br>groupadd mysql<br>useradd -g mysql mysql</p>
<p>(2)设置mysql安装目录的权限<br>cd /usr/local/mysql<br>chown -R mysql:mysql ./</p>
<p>(3)mysql初始化 #这里会生成一个mysql临时登录密码，需要记下来，稍后登录mysql会用到<br>bin/mysqld –initialize –user=mysql</p>
<p>(4)启动mysql<br>support-files/mysql.server start</p>
<p>(5)修改mysql登录密码<br>bin/mysql -u root -p<br>SET PASSWORD FOR ‘root‘@’localhost’ = PASSWORD(‘newpassword’);</p>
<p>6、远程连接mysql<br>用类似navicat的客户端连接mysql，如果出现提示”is not allowed to connect”，需要在mysql命令行上设置远程连接权限，检查iptables是否开放3306端口<br>(1)GRANT ALL ON <em>.</em> TO ‘root‘@’%’ IDENTIFIED BY ‘password’ WITH GRANT OPTION;<br>(2)iptables -A INPUT -P tcp –dport 3306 -j ACCEPT</p>

  </div>
  
    <div class="tags">
    <span><i class="fa fa-tags"></i> Tags</span>
      
        <ul class="post-tag-list"><li class="post-tag-list-item"><a class="post-tag-list-link" href="/tags/mysql/">mysql</a></li></ul>
      
    </div>
  

</article>

<!-- Comments -->

<!-- End Comments --></section>
    <footer id="footer" role="contentinfo">
    <div>&copy; 2018 <a href="/">Hexo</a>.
    Powered by <a href="http://hexo.io/" target="_blank">Hexo</a>. Designed by <a href="http://rainylog.com" target="_blank">Rainy.</a>
	</div>
</footer><!-- end #footer -->

  </div>
  <script src="/lib/fancybox/dist/jquery.fancybox.min.js"></script>

  <script src="/js/helper.js"></script>
  <script src="/js/_third-party/gitment.js"></script>
</body>
</html>