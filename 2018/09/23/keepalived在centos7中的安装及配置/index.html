<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="google-site-verification" content="xBT4GhYoi5qRD5tr338pgPM5OWHHIDR6mNg1a3euekI" />
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="">
    <meta name="keyword"  content="">
    <link rel="shortcut icon" href="/img/favicon.ico">

    <title>
        
        keepalived在centos7中的安装和配置文件 - undefined
        
    </title>

    <!-- Custom CSS -->
    <link rel="stylesheet" href="/css/aircloud.css">
    <link rel="stylesheet" href="/css/gitment.css">
    <!--<link rel="stylesheet" href="https://imsun.github.io/gitment/style/default.css">-->
    <link href="//at.alicdn.com/t/font_620856_pl6z7sid89qkt9.css" rel="stylesheet" type="text/css">
    <!-- ga & ba script hoook -->
    <script></script>
</head>

<body>

<div class="site-nav-toggle" id="site-nav-toggle">
    <button>
        <span class="btn-bar"></span>
        <span class="btn-bar"></span>
        <span class="btn-bar"></span>
    </button>
</div>

<div class="index-about">
    <i> 如果我养起马群，会有人寻路而来 </i>
</div>

<div class="index-container">
    
    <div class="index-left">
        
<div class="nav" id="nav">
    <div class="avatar-name">
        <div class="avatar">
            <img src="/" />
        </div>
        <div class="name">
            <i>Jim</i>
        </div>
    </div>
    <div class="contents" id="nav-content">
        <ul>
            <li >
                <a href="/">
                    <i class="iconfont icon-shouye1"></i>
                    <span>HOME</span>
                </a>
            </li>
            <li >
                <a href="/tags">
                    <i class="iconfont icon-biaoqian1"></i>
                    <span>TAGS</span>
                </a>
            </li>
            <li >
                <a href="/archives">
                    <i class="iconfont icon-guidang2"></i>
                    <span>ARCHIVES</span>
                </a>
            </li>
            <li >
                <a href="/about/">
                    <i class="iconfont icon-guanyu2"></i>
                    <span>ABOUT</span>
                </a>
            </li>
            
        </ul>
    </div>
    
        <div id="toc" class="toc-article">
    
</div>
    
</div>


<div class="search-field" id="search-field">
    <div class="search-container">
        <div class="search-input">
            <span id="esc-search"> <i class="icon-fanhui iconfont"></i></span>
            <input id="search-input"/>
            <span id="begin-search">search</span>
        </div>
        <div class="search-result-container" id="search-result-container">

        </div>
    </div>
</div>
        <div class="index-about-mobile">
            <i> 如果我养起马群，会有人寻路而来 </i>
        </div>
    </div>
    
    <div class="index-middle">
        <!-- Main Content -->
        


<div class="post-container">
    <div class="post-title">
        keepalived在centos7中的安装和配置文件
    </div>

    <div class="post-meta">
        <span class="attr">Post：<span>2018-09-23 17:37:00</span></span>
        
        </span>
        <span class="attr">Visit：<span id="busuanzi_value_page_pv"></span>
</span>
</span>
    </div>
    <div class="post-content ">
        <p>keepalived目前已经被官方收录进linux版本当中，在centos中使用yum就可以下载安装keepalived<br>yum info keepalived #查看系统中的keepalived版本<br>yun install keepalived #安装keepalived<br>rpm -ql keepalived #查看安装keepalived生成了哪些文件<br>cat /usr/lib/systemd/system/keepalived.service #查看keepalived的启动等配置信息<br>cat /etc/sysconfig/keepalived #查看keepalived支持的参数帮助</p>
<p>keepalived配置文件:分为三部分<br>1、global configuration<br>2、vrrp configuration #分两段，第一段vrrp instance，第二段vrrp synchonization group<br>3、lvs configuration #根据配置文件生成lvs规则</p>
<p>man keepalived.conf #查看keepalived配置文件的配置帮助<br>详细配置:<br>1、global_defs:<br>notification_email<br>notification_email_from<br>smtp_server<br>smtp_connection_timeout<br>router_id #即hostanme<br>vrrp_mcast_group 224.x.x.x #定义多播地址，224固定不变，后面三位可以变化</p>
<p>2、vrrp_instance:<br>state #master或backup<br>interface #在centos7中，int dev的名字是eno16777736<br>virtual_router_id #vrid是唯一的，跟虚拟Mac相关，虚拟Mac的格式是00-00-5E-00-01-{vrid} #根据Mac格式，前面是固定的，后面补上vrid。温馨提示，master和backup的virtual_router_id必须是一样的，因为id一样说明master和backup是在同一个虚拟路由器中<br>priority #0到255的数字，数字越大，优先级越高，优先级高的是master<br>adver_init #发送心跳信息的时间间隔，默认是1<br>authentication {<br>  auth_type PASS #这里是简单字符认证<br>  auth_pass xxxx #<br>}<br>virtual_ipaddress #定义虚拟ip地址，同一个虚拟路由器中的master和backup的vip的配置是一样的<br>nopreempt #非抢占模式，默认为抢占模式</p>

        
        <div id="comment-container">
        </div>
    </div>
</div>
    </div>
</div>


<footer class="footer">
    <ul class="list-inline text-center">
        
        

        

        

        

        

    </ul>
    
    <p>
        <span id="busuanzi_container_site_pv">
            <span id="busuanzi_value_site_pv"></span>PV
        </span>
        <span id="busuanzi_container_site_uv">
            <span id="busuanzi_value_site_uv"></span>UV
        </span>
        Created By <a href="https://hexo.io/">Hexo</a>  Theme <a href="https://github.com/aircloud/hexo-theme-aircloud">AirCloud</a></p>
</footer>




</body>

<script>
    // We expose some of the variables needed by the front end
    window.hexo_search_path = ""
    window.hexo_root = "/"
    window.isPost = true
</script>
<script src="https://cdn.bootcss.com/jquery/3.3.1/jquery.min.js"></script>
<script src="/js/index.js"></script>
<script async src="//dn-lbstatics.qbox.me/busuanzi/2.3/busuanzi.pure.mini.js"></script>

</html>
